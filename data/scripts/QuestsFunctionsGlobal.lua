-- Функции квестов не привязанных к конкретной локации

function QuestsKillScavs()
    if IsQuestTaken("q_test_drive1") and not(IsQuestComplete("q_test_drive1_1")) then Q_TestDrive1("q_test_drive1_killscavs", 15, "q_test_drive1_1", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive2") and not(IsQuestComplete("q_test_drive2_2")) then Q_TestDrive2("q_test_drive2_killscavs", 20, "q_test_drive2_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive3") and not(IsQuestComplete("q_test_drive3_2")) then Q_TestDrive3("q_test_drive3_killscavs", 5, "q_test_drive3_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive4") and not(IsQuestComplete("q_test_drive4_3")) then Q_TestDrive4("q_test_drive4_killscavs", 30, "q_test_drive4_3", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive5") and not(IsQuestComplete("q_test_drive5_3")) then Q_TestDrive5("q_test_drive5_killscavs", 30, "q_test_drive5_3", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive6") and not(IsQuestComplete("q_test_drive6_2")) then Q_TestDrive6("q_test_drive6_killscavs", 30, "q_test_drive6_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive7") and not(IsQuestComplete("q_test_drive7_2")) then Q_TestDrive7("q_test_drive7_killscavs", 10, "q_test_drive7_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive8") and not(IsQuestComplete("q_test_drive8_2")) then Q_TestDrive8("q_test_drive8_killscavs", 40, "q_test_drive8_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive9") and not(IsQuestComplete("q_test_drive9_2")) then Q_TestDrive9("q_test_drive9_killscavs", 15, "q_test_drive9_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive10") and not(IsQuestComplete("q_test_drive10_2")) then Q_TestDrive10("q_test_drive10_killscavs", 10, "q_test_drive10_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive11") and not(IsQuestComplete("q_test_drive11_2")) then Q_TestDrive11("q_test_drive11_killscavs", 25, "q_test_drive11_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive12") and not(IsQuestComplete("q_test_drive12_2")) then Q_TestDrive12("q_test_drive12_killscavs", 20, "q_test_drive12_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive13") and not(IsQuestComplete("q_test_drive13_2")) then Q_TestDrive13("q_test_drive13_killscavs", 100, "q_test_drive13_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive14") and not(IsQuestComplete("q_test_drive14_2")) then Q_TestDrive14("q_test_drive14_killscavs", 15, "q_test_drive14_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_test_drive15") and not(IsQuestComplete("q_test_drive15_2")) then Q_TestDrive15("q_test_drive15_killscavs", 25, "q_test_drive15_2", "fm_progress_quest_scavs_kills") end

    if IsQuestTaken("q_naturalist1") and not(IsQuestComplete("q_naturalist1_2")) then Q_Naturalist1("q_naturalist1_killscavs", 30, "q_naturalist1_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_naturalist2") and not(IsQuestComplete("q_naturalist2_2")) then Q_Naturalist2("q_naturalist2_killscavs", 20, "q_naturalist2_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_naturalist3") and not(IsQuestComplete("q_naturalist3_2")) then Q_Naturalist3("q_naturalist3_killscavs", 5, "q_naturalist3_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_naturalist4") and not(IsQuestComplete("q_naturalist4_2")) then Q_Naturalist4("q_naturalist4_killscavs", 10, "q_naturalist4_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_naturalist5") and not(IsQuestComplete("q_naturalist5_3")) then Q_Naturalist5("q_naturalist5_killscavs", 25, "q_naturalist5_3", "fm_progress_quest_scavs_kills") end

    if IsQuestTaken("q_belazist1") and not(IsQuestComplete("q_belazist1_2")) then Q_Belazist1("q_belazist1_killscavs", 15, "q_belazist1_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_belazist2") and not(IsQuestComplete("q_belazist2_2")) then Q_Belazist2("q_belazist2_killscavs", 15, "q_belazist2_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_belazist3") and not(IsQuestComplete("q_belazist3_2")) then Q_Belazist3("q_belazist3_killscavs", 20, "q_belazist3_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_belazist4") and not(IsQuestComplete("q_belazist4_2")) then Q_Belazist4("q_belazist4_killscavs", 10, "q_belazist4_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_belazist5") and not(IsQuestComplete("q_belazist5_2")) then Q_Belazist5("q_belazist5_killscavs", 5, "q_belazist5_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_belazist6") and not(IsQuestComplete("q_belazist6_2")) then Q_Belazist6("q_belazist6_killscavs", 15, "q_belazist6_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_belazist7") and not(IsQuestComplete("q_belazist7_2")) then Q_Belazist7("q_belazist7_killscavs", 20, "q_belazist7_2", "fm_progress_quest_scavs_kills") end
    if IsQuestTaken("q_belazist8") and not(IsQuestComplete("q_belazist8_2")) then Q_Belazist8("q_belazist8_killscavs", 50, "q_belazist8_2", "fm_progress_quest_scavs_kills") end
end

function QuestsKillPMC()
    if IsQuestTaken("q_test_drive2") and not(IsQuestComplete("q_test_drive2_3")) then Q_TestDrive2("q_test_drive2_killPMC", 10, "q_test_drive2_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive3") and not(IsQuestComplete("q_test_drive3_3")) then Q_TestDrive3("q_test_drive3_killPMC", 5, "q_test_drive3_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive4") and not(IsQuestComplete("q_test_drive4_4")) then Q_TestDrive4("q_test_drive4_killPMC", 15, "q_test_drive4_4", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive5") and not(IsQuestComplete("q_test_drive5_4")) then Q_TestDrive5("q_test_drive5_killPMC", 20, "q_test_drive5_4", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive6") and not(IsQuestComplete("q_test_drive6_3")) then Q_TestDrive6("q_test_drive6_killPMC", 15, "q_test_drive6_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive7") and not(IsQuestComplete("q_test_drive7_3")) then Q_TestDrive7("q_test_drive7_killPMC", 5, "q_test_drive7_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive8") and not(IsQuestComplete("q_test_drive8_3")) then Q_TestDrive8("q_test_drive8_killPMC", 20, "q_test_drive8_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive9") and not(IsQuestComplete("q_test_drive9_3")) then Q_TestDrive9("q_test_drive9_killPMC", 15, "q_test_drive9_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive10") and not(IsQuestComplete("q_test_drive10_3")) then Q_TestDrive10("q_test_drive10_killPMC", 20, "q_test_drive10_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive11") and not(IsQuestComplete("q_test_drive11_3")) then Q_TestDrive11("q_test_drive11_killPMC", 35, "q_test_drive11_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive12") and not(IsQuestComplete("q_test_drive12_3")) then Q_TestDrive12("q_test_drive12_killPMC", 40, "q_test_drive12_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive13") and not(IsQuestComplete("q_test_drive13_3")) then Q_TestDrive13("q_test_drive13_killPMC", 100, "q_test_drive13_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive14") and not(IsQuestComplete("q_test_drive14_3")) then Q_TestDrive14("q_test_drive14_killPMC", 15, "q_test_drive14_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_test_drive15") and not(IsQuestComplete("q_test_drive15_3")) then Q_TestDrive15("q_test_drive15_killPMC", 20, "q_test_drive15_3", "fm_progress_quest_pmc_kills") end

    if IsQuestTaken("q_naturalist1") and not(IsQuestComplete("q_naturalist1_3")) then Q_Naturalist1("q_naturalist1_killPMC", 15, "q_naturalist1_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_naturalist2") and not(IsQuestComplete("q_naturalist2_3")) then Q_Naturalist2("q_naturalist2_killPMC", 5, "q_naturalist2_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_naturalist3") and not(IsQuestComplete("q_naturalist3_3")) then Q_Naturalist3("q_naturalist3_killPMC", 15, "q_naturalist3_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_naturalist4") and not(IsQuestComplete("q_naturalist4_3")) then Q_Naturalist4("q_naturalist4_killPMC", 20, "q_naturalist4_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_naturalist5") and not(IsQuestComplete("q_naturalist5_4")) then Q_Naturalist5("q_naturalist5_killPMC", 30, "q_naturalist5_4", "fm_progress_quest_pmc_kills") end

    if IsQuestTaken("q_belazist1") and not(IsQuestComplete("q_belazist1_3")) then Q_Belazist1("q_belazist1_killPMC", 5, "q_belazist1_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_belazist2") and not(IsQuestComplete("q_belazist2_3")) then Q_Belazist2("q_belazist2_killPMC", 15, "q_belazist2_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_belazist3") and not(IsQuestComplete("q_belazist3_3")) then Q_Belazist3("q_belazist3_killPMC", 15, "q_belazist3_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_belazist4") and not(IsQuestComplete("q_belazist4_3")) then Q_Belazist4("q_belazist4_killPMC", 20, "q_belazist4_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_belazist5") and not(IsQuestComplete("q_belazist5_3")) then Q_Belazist5("q_belazist5_killPMC", 30, "q_belazist5_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_belazist6") and not(IsQuestComplete("q_belazist6_3")) then Q_Belazist6("q_belazist6_killPMC", 30, "q_belazist6_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_belazist7") and not(IsQuestComplete("q_belazist7_3")) then Q_Belazist7("q_belazist7_killPMC", 40, "q_belazist7_3", "fm_progress_quest_pmc_kills") end
    if IsQuestTaken("q_belazist8") and not(IsQuestComplete("q_belazist8_3")) then Q_Belazist8("q_belazist8_killPMC", 50, "q_belazist8_3", "fm_progress_quest_pmc_kills") end
end

function IfRaidCountForQuest()
    if IsQuestTaken("q_test_drive4") and not(IsQuestComplete("q_test_drive4_2")) then Q_TestDrive4("q_test_drive4_raidcount", 3, "q_test_drive4_2", "fm_progress_quest_raidcount") end
    if IsQuestTaken("q_test_drive5") and not(IsQuestComplete("q_test_drive5_2")) then Q_TestDrive5("q_test_drive5_raidcount", 3, "q_test_drive5_2", "fm_progress_quest_raidcount") end

    if IsQuestTaken("q_naturalist5") and not(IsQuestComplete("q_naturalist5_2")) then Q_Naturalist5("q_naturalist5_raidcount", 3, "q_naturalist5_2", "fm_progress_quest_raidcount") end
end

function UseItemsForQuest()
    if IsQuestTaken("q_turbo") and not(IsQuestComplete("q_turbo_2")) then Q_TurboUse() end
end


-- Тест драйв

function Q_TestDrive(var, kills, quest, fm, questName)
    local q_var = GetVar(var).AsInt

    if not(q_var == kills) then
        q_var = q_var + 1
        SetVar(var, q_var)
        if q_var >= kills then
            CompleteSubtask(quest)
            AddFadingMsgByStrIdFormatted(fm.."_complete", questName, q_var, kills)
            SoundFadingMsg()
        else
            AddFadingMsgByStrIdFormatted(fm, questName, q_var, kills)
            SoundFadingMsg()
        end
    end
end

-- Тест драйв - Часть 1

function Q_TestDrive1(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Bug" and GetVar("PlayerCabin").AsString == "bugCab01" and GetVar("PlayerBasket").AsString == "bugCargo03_5x7" then
        local cab_small = GetPlayerVehicle():GetPartByName("CABIN_SMALL_GUN")
        if cab_small then cab_small = cab_small:GetProperty("Prototype").AsString end

        if cab_small == "pkt01" then Q_TestDrive(var, kills, quest, fm, "q_test_drive1") end
    end
end

-- Тест драйв - Часть 2

function Q_TestDrive2(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Molokovoz" and GetVar("PlayerCabin").AsString == "molokovozCab03" and GetVar("PlayerBasket").AsString == "molokovozCargo01_5x8" then
        local cab_small = GetPlayerVehicle():GetPartByName("CABIN_SMALL_GUN")
        local bas_small_0 = GetPlayerVehicle():GetPartByName("BASKET_SMALL_GUN_0")
        if cab_small and bas_small_0 then 
            cab_small = cab_small:GetProperty("Prototype").AsString 
            bas_small_0 = bas_small_0:GetProperty("Prototype").AsString 
        end

        if cab_small == "specter01" and bas_small_0 == "pkt01" or cab_small == "pkt01" and bas_small_0 == "specter01" then Q_TestDrive(var, kills, quest, fm, "q_test_drive2") end
    end
end

-- Тест драйв - Часть 3

function Q_TestDrive3(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Bug" and GetVar("PlayerCabin").AsString == "bugCab01" and GetVar("PlayerBasket").AsString == "bugCargo01_4x5" then
        local cab_small = GetPlayerVehicle():GetPartByName("CABIN_SMALL_GUN")
        if cab_small then cab_small = cab_small:GetProperty("Prototype").AsString end

        if cab_small == "hornet01" or cab_small == "american_hornet01" then Q_TestDrive(var, kills, quest, fm, "q_test_drive3") end
    end
end

-- Тест драйв - Часть 4

function Q_TestDrive4(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Molokovoz" and GetVar("PlayerCabin").AsString == "molokovozCab01" and GetVar("PlayerBasket").AsString == "molokovozCargo03_6x8" then
        local bas_big_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")
        if bas_big_0 then bas_big_0 = bas_big_0:GetProperty("Prototype").AsString end

        if bas_big_0 == "kpvt01" then Q_TestDrive(var, kills, quest, fm, "q_test_drive4") end
    end
end

-- Тест драйв - Часть 5

function Q_TestDrive5(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Molokovoz" and GetVar("PlayerCabin").AsString == "molokovozCab03" and GetVar("PlayerBasket").AsString == "molokovozCargo03_6x8" then
        local cab_small = GetPlayerVehicle():GetPartByName("CABIN_SMALL_GUN")
        local bas_big_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")
        if bas_big_0 and cab_small then 
            cab_small = cab_small:GetProperty("Prototype").AsString 
            bas_big_0 = bas_big_0:GetProperty("Prototype").AsString 
        end

        if cab_small == "storm01" and bas_big_0 == "rapier01" then Q_TestDrive(var, kills, quest, fm, "q_test_drive5") end
    end
end

-- Тест драйв - Часть 6

function Q_TestDrive6(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Ural" and GetVar("PlayerCabin").AsString == "uralCab02" and GetVar("PlayerBasket").AsString == "uralCargo01_6x9" then
        local cab_big_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_big_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")
        if bas_big_0 and cab_big_1 then 
            cab_big_1 = cab_big_1:GetProperty("Prototype").AsString 
            bas_big_0 = bas_big_0:GetProperty("Prototype").AsString 
        end

        if cab_big_1 == "vulcan01" and bas_big_0 == "vulcan01" then Q_TestDrive(var, kills, quest, fm, "q_test_drive6") end
    end
end

-- Тест драйв - Часть 7

function Q_TestDrive7(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Molokovoz" and GetVar("PlayerCabin").AsString == "molokovozCab01" and GetVar("PlayerBasket").AsString == "molokovozCargo02_6x9" then
        local bas_small_0 = GetPlayerVehicle():GetPartByName("BASKET_SMALL_GUN_0")
        if bas_small_0 then 
            bas_small_0 = bas_small_0:GetProperty("Prototype").AsString 
        end

        if bas_small_0 == "kord01" then Q_TestDrive(var, kills, quest, fm, "q_test_drive7") end
    end
end

-- Тест драйв - Часть 8

function Q_TestDrive8(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Ural" and GetVar("PlayerCabin").AsString == "uralCab02" and GetVar("PlayerBasket").AsString == "uralCargo04_7x10" then
        local cab_big_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_big_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")
        if cab_big_1 and bas_big_0 then 
            cab_big_1 = cab_big_1:GetProperty("Prototype").AsString 
            bas_big_0 = bas_big_0:GetProperty("Prototype").AsString 
        end

        if cab_big_1 == "rapier01" and bas_big_0 == "rapier01" then Q_TestDrive(var, kills, quest, fm, "q_test_drive8") end
    end
end

-- Тест драйв - Часть 9

function Q_TestDrive9(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Mirotvorec" and GetVar("PlayerCabin").AsString == "mirotvorecCab02" and GetVar("PlayerBasket").AsString == "mirotvorecCargo02_7x10" then
        local cab_big_gun_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_giant_gun = GetPlayerVehicle():GetPartByName("BASKET_GIANT_GUN")

        local l = 0

        if cab_big_gun_1 and bas_giant_gun then
            cab_big_gun_1 = cab_big_gun_1:GetProperty("Prototype").AsString 
            bas_giant_gun = bas_giant_gun:GetProperty("Prototype").AsString 
            if cab_big_gun_1 == "flag01" and bas_giant_gun == "cyclops01" then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_test_drive9") end
    end
end

-- Тест драйв - Часть 10

function Q_TestDrive10(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Mirotvorec" then
        local slots = {"CABIN_BIG_GUN_1", "CABIN_BIG_GUN_2", "BASKET_BIG_GUN_0"}
        local l = 0

        for i=1,3 do
            if GetPlayerVehicle():GetPartByName(slots[i]) then
                local protgun = GetPlayerVehicle():GetPartByName(slots[i]):GetProperty("Prototype").AsString
                if protgun then l = l + 1 end
            end
        end

        if l == 3 then Q_TestDrive(var, kills, quest, fm, "q_test_drive10") end
    end
end

-- Тест драйв - Часть 11

function Q_TestDrive11(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Mirotvorec" and GetVar("PlayerCabin").AsString == "mirotvorecCab03" and GetVar("PlayerBasket").AsString == "mirotvorecCargo03_8x10" then
        local slots = {"CABIN_BIG_GUN_1", "CABIN_BIG_GUN_2", "BASKET_BIG_GUN_0"}
        local bas_giant_gun = GetPlayerVehicle():GetPartByName("BASKET_GIANT_GUN")
        local l = 0

        for i=1,3 do
            if GetPlayerVehicle():GetPartByName(slots[i]) then
                local protgun = GetPlayerVehicle():GetPartByName(slots[i]):GetProperty("Prototype").AsString
                if protgun == "rainmetal01" then l = l + 1 end
            end
        end

        if bas_giant_gun then
            bas_giant_gun = bas_giant_gun:GetProperty("Prototype").AsString 
            if bas_giant_gun == "octopus01" then l = l + 1 end
        end

        if l == 4 then Q_TestDrive(var, kills, quest, fm, "q_test_drive11") end
    end
end

-- Тест драйв - Часть 12

function Q_TestDrive12(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Mirotvorec" and GetVar("PlayerCabin").AsString == "mirotvorecCab04" and GetVar("PlayerBasket").AsString == "mirotvorecCargo05_9x11" then
        local slots = {"CABIN_BIG_GUN_1", "CABIN_BIG_GUN_2", "BASKET_BIG_GUN_0"}
        local bas_giant_gun = GetPlayerVehicle():GetPartByName("BASKET_GIANT_GUN")
        local l = 0

        for i=1,3 do
            if GetPlayerVehicle():GetPartByName(slots[i]) then
                local protgun = GetPlayerVehicle():GetPartByName(slots[i]):GetProperty("Prototype").AsString
                if protgun == "flag01" then l = l + 1 end
            end
        end

        if bas_giant_gun then
            bas_giant_gun = bas_giant_gun:GetProperty("Prototype").AsString 
            if bas_giant_gun == "cyclops01" then l = l + 1 end
        end

        if l == 4 then Q_TestDrive(var, kills, quest, fm, "q_test_drive12") end
    end
end

-- Тест драйв - Часть 13

function Q_TestDrive13(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Mirotvorec" and GetVar("PlayerCabin").AsString == "mirotvorecCab05" and GetVar("PlayerBasket").AsString == "mirotvorecCargo05_9x11" then
        local big_gun = {"CABIN_BIG_GUN_1", "BASKET_BIG_GUN_0"}
        local giant_gun = {"CABIN_GIANT_GUN", "BASKET_GIANT_GUN"}
        local l = 0

        for i=1,2 do
            if GetPlayerVehicle():GetPartByName(big_gun[i]) then
                local protbiggun = GetPlayerVehicle():GetPartByName(big_gun[i]):GetProperty("Prototype").AsString
                if protbiggun == "rainmetal01" then l = l + 1 end
            end
        end

        for i2=1,2 do
            if GetPlayerVehicle():GetPartByName(giant_gun[i2]) then
                local protgiantgun = GetPlayerVehicle():GetPartByName(giant_gun[i2]):GetProperty("Prototype").AsString
                if protgiantgun == "octopus01" then l = l + 1 end
            end
        end

        if l == 4 then Q_TestDrive(var, kills, quest, fm, "q_test_drive13") end
    end
end

-- Тест драйв - Часть 14

function Q_TestDrive14(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Cruiser" and GetVar("PlayerCabin").AsString == "cruiserCab01" and GetVar("PlayerBasket").AsString == "cruiserCargo01_8x11" then
        local cab_big_gun_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_giant_gun = GetPlayerVehicle():GetPartByName("BASKET_GIANT_GUN")
        local l = 0

        if cab_big_gun_1 and bas_giant_gun then
            cab_big_gun_1 = cab_big_gun_1:GetProperty("Prototype").AsString
            bas_giant_gun = bas_giant_gun:GetProperty("Prototype").AsString
            if cab_big_gun_1 == "kpvt01" and bas_giant_gun == "octopus01" then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_test_drive14") end
    end
end

-- Тест драйв - Часть 15

function Q_TestDrive15(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Cruiser" and GetVar("PlayerCabin").AsString == "cruiserCab02" and GetVar("PlayerBasket").AsString == "cruiserCargo02_8x12" then
        local cab_big_gun_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_big_gun_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")
        local bas_side_gun_0 = GetPlayerVehicle():GetPartByName("BASKET_SIDE_GUN_0")
        local l = 0

        if cab_big_gun_1 and bas_big_gun_0 and bas_side_gun_0 then
            cab_big_gun_1 = cab_big_gun_1:GetProperty("Prototype").AsString
            bas_big_gun_0 = bas_big_gun_0:GetProperty("Prototype").AsString
            bas_side_gun_0 = bas_side_gun_0:GetProperty("Prototype").AsString
            if cab_big_gun_1 == "odin01" and bas_big_gun_0 == "odin01" and bas_side_gun_0 then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_test_drive15") end
    end
end

-- Натуралист - Часть 1

function Q_Naturalist1(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Ural" and GetVar("PlayerCabin").AsString == "uralCab04" and GetVar("PlayerBasket").AsString == "uralCargo01_6x9" then
        local cab_big_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_big_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")
        if cab_big_1 and bas_big_0 then 
            cab_big_1 = cab_big_1:GetProperty("Prototype").AsString 
            bas_big_0 = bas_big_0:GetProperty("Prototype").AsString 
        end

        if cab_big_1 == "rainmetal01" and bas_big_0 == "kpvt01" or bas_big_0 == "rainmetal01" and cab_big_1 == "kpvt01" then Q_TestDrive(var, kills, quest, fm, "q_naturalist1") end
    end
end

-- Натуралист - Часть 2

function Q_Naturalist2(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Ural" then
        local cab_big_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_big_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")
        if cab_big_1 and bas_big_0 then 
            cab_big_1 = cab_big_1:GetProperty("Prototype").AsString 
            bas_big_0 = bas_big_0:GetProperty("Prototype").AsString 
        end

        if cab_big_1 == "vector01" and bas_big_0 == "vector01" then Q_TestDrive(var, kills, quest, fm, "q_naturalist2") end
    end
end

-- Натуралист - Часть 3

function Q_Naturalist3(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Ural" and GetVar("PlayerCabin").AsString == "uralCab03" and GetVar("PlayerBasket").AsString == "uralCargo04_7x10" then
        local slots = {"CABIN_BIG_GUN_1", "CABIN_BIG_GUN_2", "BASKET_BIG_GUN_0"}
        local l, r = 0, 0

        for i=1,3 do
            if GetPlayerVehicle():GetPartByName(slots[i]) then
                local protgun = GetPlayerVehicle():GetPartByName(slots[i]):GetProperty("Prototype").AsString
                if protgun == "rainmetal01" then r = 1 end
                if protgun == "rapier01" then l = l + 1 end
            end
        end

        if l == 2 and r == 1 then Q_TestDrive(var, kills, quest, fm, "q_naturalist3") end
    end
end

-- Натуралист - Часть 4

function Q_Naturalist4(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Ural" and GetVar("PlayerBasket").AsString == "uralCargo03_9x10" then
        local bas_giant = GetPlayerVehicle():GetPartByName("BASKET_GIANT_GUN")
        local slots = {"CABIN_BIG_GUN_1", "CABIN_BIG_GUN_2", "BASKET_BIG_GUN_0"}

        local l = 0

        for i=1,3 do
            if GetPlayerVehicle():GetPartByName(slots[i]) then
                local protgun = GetPlayerVehicle():GetPartByName(slots[i]):GetProperty("Prototype").AsString
                if protgun == "rainmetal01" then l = l + 1 end
            end
        end

        if bas_giant then
            bas_giant = bas_giant:GetProperty("Prototype").AsString 
            if bas_giant == "cyclops01" then l = l + 1 end
        end

        if l == 2 then Q_TestDrive(var, kills, quest, fm, "q_naturalist4") end
    end
end

-- Натуралист - Часть 5

function Q_Naturalist5(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Ural" and GetVar("PlayerCabin").AsString == "uralCab05" and GetVar("PlayerBasket").AsString == "uralCargo03_9x10" then
        local bas_giant = GetPlayerVehicle():GetPartByName("BASKET_GIANT_GUN")
        local slots = {"CABIN_BIG_GUN_1", "CABIN_BIG_GUN_2", "BASKET_BIG_GUN_0"}

        local l = 0

        for i=1,3 do
            if GetPlayerVehicle():GetPartByName(slots[i]) then
                local protgun = GetPlayerVehicle():GetPartByName(slots[i]):GetProperty("Prototype").AsString
                if protgun == "rainmetal01" then l = l + 1 end
            end
        end

        if bas_giant then
            bas_giant = bas_giant:GetProperty("Prototype").AsString 
            if bas_giant == "octopus01" then l = l + 1 end
        end

        if l == 4 then Q_TestDrive(var, kills, quest, fm, "q_naturalist5") end
    end
end

-- Белазист - Часть 1

function Q_Belazist1(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Belaz" and GetVar("PlayerCabin").AsString == "belazCab01" and GetVar("PlayerBasket").AsString == "belazCargo01_6x12" then
        local cab_sml_gun = GetPlayerVehicle():GetPartByName("CABIN_SMALL_GUN")
        local bas_big_gun_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")

        local l = 0

        if cab_sml_gun and bas_big_gun_0 then
            cab_sml_gun = cab_sml_gun:GetProperty("Prototype").AsString 
            bas_big_gun_0 = bas_big_gun_0:GetProperty("Prototype").AsString 
            if cab_sml_gun and bas_big_gun_0 then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_belazist1") end
    end
end

-- Белазист - Часть 2

function Q_Belazist2(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Belaz" and GetVar("PlayerCabin").AsString == "belazCab02" and GetVar("PlayerBasket").AsString == "belazCargo02_8x11" then
        local cab_sml_gun = GetPlayerVehicle():GetPartByName("CABIN_SMALL_GUN")
        local cab_sml_gun_1 = GetPlayerVehicle():GetPartByName("CABIN_SMALL_GUN_1")
        local bas_big_gun_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")

        local l = 0

        if cab_sml_gun and cab_sml_gun_1 and bas_big_gun_0 then
            cab_sml_gun = cab_sml_gun:GetProperty("Prototype").AsString 
            cab_sml_gun_1 = cab_sml_gun_1:GetProperty("Prototype").AsString 
            bas_big_gun_0 = bas_big_gun_0:GetProperty("Prototype").AsString 
            if cab_sml_gun == "kord01" and cab_sml_gun_1 == "kord01" and bas_big_gun_0 == "kpvt01" then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_belazist2") end
    end
end

-- Белазист - Часть 3

function Q_Belazist3(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Belaz" and GetVar("PlayerCabin").AsString == "belazCab04" and GetVar("PlayerBasket").AsString == "belazCargo05_9x10" then
        local cab_big_gun_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_big_gun_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")

        local l = 0

        if cab_big_gun_1 and bas_big_gun_0 then
            cab_big_gun_1 = cab_big_gun_1:GetProperty("Prototype").AsString 
            bas_big_gun_0 = bas_big_gun_0:GetProperty("Prototype").AsString 
            if cab_big_gun_1 == "rainmetal01" and bas_big_gun_0 == "rainmetal01" then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_belazist3") end
    end
end

-- Белазист - Часть 4

function Q_Belazist4(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Belaz" and GetVar("PlayerCabin").AsString == "belazCab03" then
        local cab_giant_gun = GetPlayerVehicle():GetPartByName("CABIN_GIANT_GUN")
        local bas_big_gun_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")

        local l = 0

        if cab_giant_gun and bas_big_gun_0 then
            cab_giant_gun = cab_giant_gun:GetProperty("Prototype").AsString 
            bas_big_gun_0 = bas_big_gun_0:GetProperty("Prototype").AsString 
            if cab_giant_gun == "octopus01" and bas_big_gun_0 == "rainmetal01" then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_belazist4") end
    end
end

-- Белазист - Часть 5

function Q_Belazist5(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Belaz" and GetVar("PlayerCabin").AsString == "belazCab03" and GetVar("PlayerBasket").AsString == "belazCargo04_6x10" then
        local cab_giant_gun = GetPlayerVehicle():GetPartByName("CABIN_GIANT_GUN")
        local bas_giant_gun = GetPlayerVehicle():GetPartByName("BASKET_GIANT_GUN")
        local bas_giant_gun_0 = GetPlayerVehicle():GetPartByName("BASKET_GIANT_GUN_0")

        local l = 0

        if cab_giant_gun and bas_giant_gun and bas_giant_gun_0 then
            cab_giant_gun = cab_giant_gun:GetProperty("Prototype").AsString 
            bas_giant_gun = bas_giant_gun:GetProperty("Prototype").AsString 
            bas_giant_gun_0 = bas_giant_gun_0:GetProperty("Prototype").AsString
            if cab_giant_gun and bas_giant_gun and bas_giant_gun_0 then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_belazist5") end
    end
end

-- Белазист - Часть 6

function Q_Belazist6(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Belaz" and GetVar("PlayerCabin").AsString == "belazCab04" and GetVar("PlayerBasket").AsString == "belazCargo03_11x12" then
        local cab_big_gun_1 = GetPlayerVehicle():GetPartByName("CABIN_BIG_GUN_1")
        local bas_big_0 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_0")
        local bas_big_1 = GetPlayerVehicle():GetPartByName("BASKET_BIG_GUN_1")

        local l = 0

        if cab_big_gun_1 and bas_big_0 and bas_big_1 then
            cab_big_gun_1 = cab_big_gun_1:GetProperty("Prototype").AsString 
            bas_big_0 = bas_big_0:GetProperty("Prototype").AsString 
            bas_big_1 = bas_big_1:GetProperty("Prototype").AsString
            if cab_big_gun_1 == "rainmetal01" and bas_big_0 == "rainmetal01" and bas_big_1 == "rainmetal01" then l = l + 1 end
        end

        if l == 1 then Q_TestDrive(var, kills, quest, fm, "q_belazist6") end
    end
end

-- Белазист - Часть 7

function Q_Belazist7(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Belaz" and GetVar("PlayerCabin").AsString == "belazCab05" and GetVar("PlayerBasket").AsString == "belazCargo03_11x12" then
        local cab_giant_gun = GetPlayerVehicle():GetPartByName("CABIN_GIANT_GUN")
        local slots = {"CABIN_BIG_GUN_1", "BASKET_BIG_GUN_0", "BASKET_BIG_GUN_1"}

        local l, f = 0, 0

        for i=1,3 do
            if GetPlayerVehicle():GetPartByName(slots[i]) then
                local protgun = GetPlayerVehicle():GetPartByName(slots[i]):GetProperty("Prototype").AsString
                if protgun == "rainmetal01" then l = l + 1 end
                if protgun == "flag01" then f = 1 end
            end
        end

        if cab_giant_gun then
            cab_giant_gun = cab_giant_gun:GetProperty("Prototype").AsString 
            if cab_giant_gun == "cyclops01" then l = l + 1 end
        end

        if l == 3 and f == 1 then Q_TestDrive(var, kills, quest, fm, "q_belazist7") end
    end
end

-- Белазист - Часть 8

function Q_Belazist8(var, kills, quest, fm)
    if GetVar("PlayerCar").AsString == "Belaz" and GetVar("PlayerCabin").AsString == "belazCab05" and GetVar("PlayerBasket").AsString == "belazCargo03_11x12" then
        local slots = {"CABIN_BIG_GUN_1", "BASKET_BIG_GUN_0", "BASKET_BIG_GUN_1"}

        local l = 0

        for i=1,3 do
            if GetPlayerVehicle():GetPartByName(slots[i]) then
                local protgun = GetPlayerVehicle():GetPartByName(slots[i]):GetProperty("Prototype").AsString
                if protgun == "bumblebee01" then l = l + 1 end
            end
        end

        if l == 3 then Q_TestDrive(var, kills, quest, fm, "q_belazist8") end
    end
end


-- Жажда скорости

function Q_TurboUse()
    local spec_slot = GetPlayerVehicle():GetPartByName("BASKET_SPECIAL_WEAPON")

    if spec_slot then
        spec_slot = spec_slot:GetProperty("Prototype").AsString
        if spec_slot == "someTurboAccelerationPusher" then
            local charge = GetPlayerVehicle():GetPartByName("BASKET_SPECIAL_WEAPON"):GetChargeState()
            if charge == 1 then CompleteSubtask("q_turbo_2") end
        end
    end
end